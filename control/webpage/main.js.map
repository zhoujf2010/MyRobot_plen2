{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/business_logic/FrameModel.ts","./src/app/business_logic/ModelLoader.ts","./src/app/business_logic/MotionModel.ts","./src/app/components/OpenButton/controller.ts","./src/app/components/OpenButton/view.html","./src/app/components/TwitterButton/controller.ts","./src/app/components/TwitterButton/view.html","./src/app/services/EventService.ts","./src/app/services/FrameFactory.ts","./src/app/services/ImageStoreService.ts","./src/app/xyz/xyz.component.ts","./src/app/xyz/xyz.component.html","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'MotionEditor';\n}\n","<div id=\"left_pain\">\n  <div id=\"logo\">\n    <a href=\"/playground/\">\n      <img src=\"./assets/img/logo.png\" width=\"128\" height=\"160\" alt=\"logo\">\n    </a>\n  </div>\n  \n  <div id=\"menu\">\n    <div id=\"social_icons\">\n      <twitter-button></twitter-button>\n    </div>\n\n    <div class=\"button-group\">\n      <open-Button></open-Button>\n    </div>\n    <div class=\"button-group\">\n      <a href=\"./config\">配置</a>\n    </div>\n    <div class=\"button-group\">\n    </div>\n    <div class=\"button-group\">\n    </div>\n  </div>\n</div>\n\n<div id=\"right_pain\">\n  <div id=\"indent_container\">\n\n    <div id=\"scrollable_container\" scrollable-container auto-resize auto-resize-layout=\"$scrollable_container.layout\" auto-resize-onload=\"true\">\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { XyzComponent } from './xyz/xyz.component';\nimport { TwitterButtonController } from './components/TwitterButton/controller';\nimport { OpenButtonController } from './components/OpenButton/controller';\nimport * as $ from 'jquery';\n\n// The application module's namespace definition.\nvar APP_NAME = \"MotionEditor\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    XyzComponent,\n    TwitterButtonController,\n    OpenButtonController\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","/// <reference path=\"./OutputDeviceModel.ts\" />\n\n\nimport * as _ from 'lodash'; \n\nexport class FrameModel\n{\n    _transition_time_ms: number;\n    outputs: Array<OutputDeviceModel>;\n    selected: boolean;\n    image_uri: string;\n\n    constructor(\n        transition_time_ms: number,\n        outputs: Array<OutputDeviceModel>,\n        selected: boolean,\n        image_uri: string\n    )\n    {\n        this._transition_time_ms = transition_time_ms;\n        this.outputs = outputs;\n        this.selected = selected;\n        this.image_uri = image_uri;\n    }\n\n    set transition_time_ms(value: any)\n    {\n        if (_.isString(value))\n        {\n            this._transition_time_ms = _.parseInt(value);\n        }\n\n        if (_.isNumber(value))\n        {\n            this._transition_time_ms = value;\n        }\n    }\n\n    get transition_time_ms()\n    {\n        return this._transition_time_ms;\n    }\n\n    deepCopy(frame: FrameModel|undefined): void\n    {\n        if (frame == undefined)\n            return;\n        this.transition_time_ms = frame.transition_time_ms;\n        this.selected = frame.selected;\n        this.image_uri = frame.image_uri;\n\n        this.outputs = [];\n\n        _.each(frame.outputs, (output: OutputDeviceModel) =>\n        {\n            this.outputs.push(new OutputDeviceModel(output.device, output.value));\n        });\n    }\n}","import { Injectable } from '@angular/core';\nimport * as THREE from 'three';\nimport * as _ from 'lodash'; \n\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ModelLoader\n{\n    home_quaternions: Array<THREE.Quaternion> = [];\n    rotation_axes: Array<THREE.Object3D> = [];\n    not_axes: Array<THREE.Object3D> = [];\n\n    scene: THREE.Scene;\n\n    constructor(\n        // public $rootScope: ng.IRootScopeService,\n        // public $http: ng.IHttpService\n    )\n    {\n        // noop.\n        this.scene = new THREE.Scene();\n    }\n\n    addRotationAxis(object: THREE.Object3D): void\n    {\n        if (/roll$/.test(object.name))\n        {\n            this.rotation_axes.push(object);\n            this.home_quaternions.push(object.quaternion.clone());\n        }\n        else if (/pitch$/.test(object.name))\n        {\n            this.rotation_axes.push(object);\n            this.home_quaternions.push(object.quaternion.clone());\n        }\n        else if (/yaw$/.test(object.name))\n        {\n            this.rotation_axes.push(object);\n            this.home_quaternions.push(object.quaternion.clone());\n        }\n        else\n        {\n            this.not_axes.push(object);\n        }\n\n        if (object.children.length > 0)\n        {\n            _.each(object.children, (child: THREE.Object3D) =>\n            {\n                this.addRotationAxis(child);\n            });\n        }\n    }\n\n    addObject(object: THREE.Object3D): void\n    {\n        this.scene.add(object);\n        this.addRotationAxis(object);\n    }\n\n    setScene(scene: THREE.Scene): void\n    {\n        this.scene.uuid = scene.uuid;\n        this.scene.name = scene.name;\n\n        while (scene.children.length > 0)\n        {\n            this.addObject(scene.children[0]);\n        }\n    }\n\n    getAxisMap(): any\n    {\n        var axis_map = {};\n\n        _.each(this.rotation_axes, (rotation_axis: THREE.Object3D, index: number) =>\n        {\n            axis_map[rotation_axis.name] = index;\n        });\n\n        return axis_map;\n    }\n\n    loadJSON(): void\n    {\n        // this.$http.get(\"./assets/etc/plen2_3dmodel.min.json\")\n        //     .success((data) =>\n        //     {\n        //         var model_obj:any = data;\n\n        //         if (model_obj.metadata.type.toLowerCase() === \"object\")\n        //         {\n        //             var loader = new THREE.ObjectLoader();\n        //             var result = loader.parse(model_obj);\n\n        //             if (result instanceof THREE.Scene)\n        //             {\n        //                 this.setScene(result);\n        //             }\n        //             else\n        //             {\n        //                 this.addObject(result);\n        //             }\n\n        //             this.$rootScope.$broadcast(\"3DModelLoaded\");\n        //         }\n        //     })\n        //     .error(() =>\n        //     {\n        //         alert(\"Loading a 3D model failed. (Please refresh this page.)\");\n        //     });\n    }\n} ","/// <reference path=\"./CodeModel.ts\" />\n/// <reference path=\"./FrameModel.ts\" />\n\nimport { Injectable } from '@angular/core';\nimport {FrameModel} from \"./FrameModel\";\n\nimport * as _ from 'lodash'; \nimport * as $ from 'jquery';\nimport {FrameFactory} from \"../services/FrameFactory\"\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class MotionModel\n{\n    slot: number = 44;\n    name: string = \"Empty\";\n    codes: Array<CodeModel>   = [];\n    frames: Array<FrameModel> = [];\n\n    static MIN_FRAMES: number = 1;\n    static MAX_FRAMES: number = 20;\n\n    static $inject = [\n        \"$scope\",\n    ];\n    \n    constructor(\n        // public scope: ng.IScope,\n        // public $rootScope: ng.IRootScopeService,\n        public frame_factory: FrameFactory\n    )\n    {\n        this.frames.push(this.frame_factory.getFrame());\n\n        $(window).on(\"beforeunload\", () =>\n        {\n            // rootScope.$broadcast(\"FrameSave\", this.getSelectedFrameIndex());\n            localStorage.setItem(\"motion\", this.saveJSON());\n        });\n    }\n\n    getSelectedFrameIndex(): number\n    {\n        return _.findIndex(this.frames, (frame: FrameModel) => { return frame.selected; });\n    }\n\n    removeFrame(index: number): void\n    {\n        if (this.frames.length !== MotionModel.MIN_FRAMES)\n        {\n            if (this.frames[index].selected === true)\n            {\n                if ((index + 1) === this.frames.length)\n                {\n                    this.selectFrame(index - 1);\n                }\n                else\n                {\n                    this.selectFrame(index + 1);\n                }\n            }\n\n            this.frames.splice(index, 1);\n        }\n        else\n        {\n            this.reset();\n        }\n    }\n\n    addFrame(index: number): void\n    {\n        if (this.frames.length >= MotionModel.MAX_FRAMES)\n        {\n            return;\n        }\n\n        var selected_frame: FrameModel|undefined = _.find(this.frames, (frame: FrameModel) =>\n        {\n            return frame.selected;\n        });\n\n        var copy_index = _.findIndex(this.frames, (frame: FrameModel) => { return frame.selected; });\n        // this.$rootScope.$broadcast(\"FrameSave\", copy_index);\n\n        var insertion_frame = this.frame_factory.getFrame(false);\n        insertion_frame.deepCopy(selected_frame);\n        insertion_frame.selected = false;\n\n        this.frames.splice(index, 0, insertion_frame);\n        this.selectFrame(index, false);\n    }\n\n    selectFrame(index: number, old_save: boolean = true, broadcast_finished: boolean = true): void\n    {\n        if (old_save)\n        {\n            var old_index = _.findIndex(this.frames,(frame: FrameModel) => { return frame.selected; });\n            // this.$rootScope.$broadcast(\"FrameSave\", old_index);\n        }\n\n        _.each(this.frames, (frame: FrameModel) => { frame.selected = false; });\n        this.frames[index].selected = true;\n        // this.$rootScope.$broadcast(\"FrameLoad\", index);\n\n        // if (broadcast_finished)\n        // {\n        //     this.$rootScope.$broadcast(\"FrameLoadFinished\");\n        // }\n    }\n\n    selectNextFrame(): void\n    {\n        var index = _.findIndex(this.frames, (frame: FrameModel) => { return frame.selected; });\n\n        if ((index + 1) !== this.frames.length)\n        {\n            this.selectFrame(index + 1);\n        }\n    }\n\n    selectPrevFrame(): void\n    {\n        var index = _.findIndex(this.frames, (frame: FrameModel) =>{ return frame.selected; });\n\n        if (index !== 0)\n        {\n            this.selectFrame(index - 1);\n        }\n    }\n\n    reset(): void\n    {\n        this.name   = \"Empty\";\n        this.slot   = 44;\n        this.codes  = [];\n        this.frames = [this.frame_factory.getFrame()];\n\n        // this.$rootScope.$broadcast(\"FrameLoad\", 0);\n    }\n\n    loadJSON(motion_json: string, axis_map: any): void\n    {\n        try {\n            var motion_obj = JSON.parse(motion_json);\n\n            if (_.isUndefined(motion_obj.slot) || !_.isNumber(motion_obj.slot))\n            {\n                throw \"Bad format!\";\n            }\n\n            if (_.isUndefined(motion_obj.name) || !_.isString(motion_obj.name))\n            {\n                throw \"Bad format!\";\n            }\n\n            if (_.isUndefined(motion_obj.codes) || !_.isArray(motion_obj.codes))\n            {\n                throw \"Bad format!\";\n            }\n\n            _.each(motion_obj.codes, (code: CodeModel) =>\n            {\n                if (_.isUndefined(code.method) || !_.isString(code.method))\n                {\n                    throw \"Bad format!\";\n                }\n\n                if (_.isUndefined(code.arguments) || !_.isArray(code.arguments))\n                {\n                    throw \"Bad format!\";\n                }\n                else\n                {\n                    _.each(code.arguments, (argment: number) =>\n                    {\n                        if (!_.isNumber(argment))\n                        {\n                            throw \"Bad format!\";\n                        }\n                    });\n                }\n            });\n\n            if (_.isUndefined(motion_obj.frames) || !_.isArray(motion_obj.frames))\n            {\n                throw \"Bad format!\";\n            }\n            else\n            {\n                _.each(motion_obj.frames, (frame: FrameModel) =>\n                {\n                    if (_.isUndefined(frame.transition_time_ms) || !_.isNumber(frame.transition_time_ms))\n                    {\n                        throw \"Bad format!\";\n                    }\n\n                    if (_.isUndefined(frame.outputs) || !_.isArray(frame.outputs))\n                    {\n                        throw \"Bad format!\";\n                    }\n                    else\n                    {\n                        _.each(frame.outputs, (output: OutputDeviceModel) =>\n                        {\n                            if (_.isUndefined(output.device) || !_.isString(output.device))\n                            {\n                                throw \"Bad format!\";\n                            }\n\n                            if (_.isUndefined(output.value) || !_.isNumber(output.value))\n                            {\n                                throw \"Bad format!\";\n                            }\n                        });\n                    }\n                });\n            }\n\n            this.slot  = motion_obj.slot;\n            this.name  = motion_obj.name;\n\n            this.codes = [];\n            _.each(motion_obj.codes, (code: CodeModel) =>\n            {\n                var args = [];\n                _.each(code.arguments, (argment: any) =>\n                {\n                    args.push(argment as never);\n                });\n\n                this.codes.push(new CodeModel(code.method, args));\n            });\n\n            this.frames = [];\n            _.each(motion_obj.frames, (frame: FrameModel) =>\n            {\n                var outputs = [] as any;\n                _.each(frame.outputs, (output: OutputDeviceModel) =>\n                {\n                    outputs[axis_map[output.device]] = new OutputDeviceModel(output.device, output.value);\n                });\n\n                this.frames.push(new FrameModel(frame.transition_time_ms, outputs, false, \"\"));\n            });\n\n            this.selectFrame(0, false);\n        }\n        catch (exception)\n        {\n            alert(\"Loading a motion file failed. This file has invalid format.\");\n        }\n    }\n\n    saveJSON(): string\n    {\n        var motion_obj = {\n            slot: this.slot,\n            name: this.name,\n            codes: this.codes,\n            frames: []\n        };\n\n        _.each(this.frames, (frame: FrameModel) =>\n        {\n            var pure_frame: any = {};\n            pure_frame.transition_time_ms = frame._transition_time_ms;\n            pure_frame.outputs = frame.outputs;\n\n            _.each(pure_frame.outputs, (output: OutputDeviceModel) =>\n            {\n                output.value = Math.round(output.value);\n            });\n\n            motion_obj.frames.push(pure_frame as never);\n        });\n\n        return JSON.stringify(motion_obj, null, \"\\t\");\n    }\n} ","import { Component, OnInit } from '@angular/core';\r\n\r\n/// <reference path=\"../../services/SharedMotionService.ts\" />\r\n\r\n// import { MotionModel } from '../../services/SharedMotionService';\r\nimport {MotionModel} from '../../business_logic/MotionModel';\r\nimport {ModelLoader} from '../../business_logic/ModelLoader';\r\nimport {EventService} from '../../services/EventService';\r\n\r\n\r\n@Component({\r\n    selector: 'open-Button',\r\n    templateUrl: './view.html',\r\n    styleUrls: []\r\n  })\r\nexport class OpenButtonController\r\n{\r\n    disabled: boolean = false;\r\n\r\n    static $inject = [\r\n        \"$scope\",\r\n        \"SharedMotionService\"\r\n    ];\r\n\r\n    constructor(\r\n       // $scope: ng.IScope,\r\n       public event:EventService<string>,\r\n        public motion: MotionModel,\r\n        public model_loader: ModelLoader\r\n    )\r\n    {\r\n        // $scope.$on(\"ComponentDisabled\", () => { this.disabled = true; });\r\n        // $scope.$on(\"ComponentEnabled\", () => { this.disabled = false; });\r\n\r\n        event.Subscribe(\"aa\").subscribe((item)=>{alert(item);});\r\n    }\r\n\r\n    onchange(event:any):void{\r\n        var reader = new FileReader();\r\n        reader.onload = (event: any) =>\r\n        {\r\n            this.event.Broadcast(\"aa\",\"xxx\");\r\n            alert(event.target.result);\r\n            this.motion.loadJSON(event.target.result, this.model_loader.getAxisMap());\r\n            // $scope.$ctrl.motion.loadJSON(event.target.result, model_loader.getAxisMap());\r\n            // $scope.$apply();\r\n        };\r\n\r\n        reader.readAsText(event.target.files[0]);\r\n    }\r\n} ","<div class=\"button-open\">\n    <button class=\"button-menu\" type=\"button\">\n        <i class=\"fa fa-fw fa-folder-open fa-4x\"></i>\n    </button>\n    <input type=\"file\" ng-disabled=\"$ctrl.disabled\" (change)=\"onchange($event)\" class=\"input-motion\" accept=\".json\" title=\"Open a motion.\">\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport * as angular from \"angular\";\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'twitter-button',\r\n    templateUrl: './view.html',\r\n    styleUrls: []\r\n  })\r\n\r\nexport class TwitterButtonController\r\n{\r\n    href: string;\r\n\r\n    static $inject = ['$window'];\r\n    ttitle = \"aaa\";\r\n    \r\n\r\n    constructor(\r\n    )\r\n    {\r\n        this.href = \"http://twitter.com/share?text=あなた好みにPLENを動かそう！「PLEN - Motion Editor for Web.」は、誰でも簡単にPLENのモーションを作成できるwebアプリです。&url=http://plen.jp/playground/motion-editor/&hashtags=PLEN\";\r\n    }\r\n\r\n    onClick(): void\r\n    {\r\n        window.open(\r\n            encodeURI(this.href),\r\n            'tweeter_window',\r\n            'width=650,height=470,menubar=no,toolbar=no,location=no,scrollbars=yes,sizable=yes'\r\n        );\r\n    }\r\n}  ","<span class=\"fa-stack fa-lg button-social\">\r\n    <a (click)=\"onClick()\">\r\n        <i class=\"fa fa-circle fa-stack-2x button-twitter\"></i>\r\n        <i class=\"fa fa-twitter fa-stack-1x fa-inverse\"></i>\r\n    </a>\r\n</span>\r\n","import { Observable, of } from \"rxjs\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\nclass KeyValuePair<T>\r\n{\r\n    public key: string;\r\n    public value: T;\r\n\r\n    construct(key: string, value: T) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class EventService<T>\r\n{\r\n    protected subscriptions: KeyValuePair<Observable<T>>[];\r\n\r\n    public Broadcast(key: string, value: any)\r\n    {\r\n        var observable = new Observable<T>();\r\n        observable.subscribe((a) =>\r\n        {\r\n            return of(value);\r\n        });\r\n         var v = new KeyValuePair<Observable<T>>();\r\n         v.key = key;\r\n         v.value = observable;\r\n         this.subscriptions.push(v);\r\n\r\n        // this.subscriptions.push(\r\n        //     new KeyValuePair<Observable<T>>(\r\n        //         // key, \r\n        //         // observable\r\n        //     )\r\n        // );\r\n    }\r\n\r\n    public Subscribe(key: string): Observable<T>\r\n    {\r\n        var observable = this.subscriptions.find((sub) => {\r\n            return sub.key == key;\r\n        });\r\n        if (observable == null)\r\n            return new Observable<T>();\r\n\r\n        return observable.value;\r\n    }\r\n}","/// <reference path=\"./ImageStoreService.ts\" />\n/// <reference path=\"../business_logic/FrameModel.ts\" />\n\nimport {ImageStoreService} from \"../services/ImageStoreService\";\nimport {FrameModel} from \"../business_logic/FrameModel\";\n\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class FrameFactory\n{\n    static $inject = [\n        \"ImageStoreService\"\n    ];\n\n    constructor(\n        public image_store_service: ImageStoreService\n    )\n    {\n        // noop.\n    }\n\n    getFrame(selected: boolean = true): FrameModel\n    {\n        return new FrameModel(\n            500,\n            [],\n            selected,\n            this.image_store_service.get()\n        );\n    }\n}\n\n// angular.module(APP_NAME).service(\"FrameFactory\", FrameFactory); ","\nimport { Injectable } from '@angular/core';\n\n\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ImageStoreService\n{\n    private _image_canvas;\n    private _context;\n\n    constructor()\n    {\n        this._image_canvas = document.createElement(\"canvas\");\n        this._image_canvas.width  = 150;\n        this._image_canvas.height = 150;\n\n        this._context = this._image_canvas.getContext(\"2d\");\n    }\n\n    set(image: any): void\n    {\n        var sx, sy, sw, sh;\n\n        if (image.width > image.height)\n        {\n            sy = 0;\n            sw = image.height;\n            sh = image.height;\n\n            sx = (image.width - sw) / 2;\n        }\n        else\n        {\n            sx = 0;\n            sw = image.width;\n            sh = image.width;\n\n            sy = (image.height - sh) / 2;\n        }\n\n        this._context.drawImage(image, sx, sy, sw, sh, 0, 0, 150, 150);\n    }\n\n    get(): string\n    {\n        return this._image_canvas.toDataURL();\n    }\n}\n\n// angular.module(APP_NAME).service(\"ImageStoreService\", ImageStoreService);","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-xyz',\n  templateUrl: './xyz.component.html',\n  styleUrls: ['./xyz.component.css']\n})\nexport class XyzComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onClickxx(): void\n  {\n      alert(1);\n  }\n}\n","<p>xyz works!</p>\n<button (click)=\"onClickxx()\">aaaxx按钮</button>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n// import * as angular from 'angular';\n\n// import {MotionModel} from './app/business_logic/MotionModel';\n\n// The application module's namespace definition.\nvar APP_NAME = \"MotionEditor\";\n\n// angular.module(APP_NAME, [])\n//   .service(\"SharedMotionService\",\n//   [\n//       \"$rootScope\",\n//       \"FrameFactory\",\n//       MotionModel\n//   ])\n \n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\n"],"names":[],"sourceRoot":"webpack:///"}